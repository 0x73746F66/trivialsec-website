const toggleFaq=event=>{let el=event.currentTarget.querySelector(".faq-answer");el!==event.target&&(el.classList.contains("open")?el.classList.remove("open"):el.classList.add("open"))};app.recaptchaSiteKey&&grecaptcha.ready((()=>{refresh_recaptcha_token("subscribe_action")})),document.addEventListener("DOMContentLoaded",(async()=>{"/faq"!=location.pathname&&history.pushState({},document.title,"/faq");for await(const el of document.querySelectorAll(".faq-question"))el.addEventListener("click",toggleFaq,!1),el.addEventListener("touchstart",toggleFaq,!!supportsPassive&&{passive:!0});document.getElementById("subscribe_form").addEventListener("submit",(async e=>{e.preventDefault();const token=document.getElementById("recaptcha_token").value,response=await fetch("/subscribe",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recaptcha_token:token,email:document.getElementById("email").value})}).catch((err=>{appMessage("error","An unexpected error occurred. Please refresh the page and try again."),console.log(err)})),json=await response.json();appMessage(json.status,json.message),refresh_recaptcha_token("subscribe_action")}),!1)}),!1);