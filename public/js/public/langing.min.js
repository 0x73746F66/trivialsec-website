const openSignUp=async()=>{for await(const el of document.querySelectorAll(".main__section"))el.style.flex="0 0 52%";document.querySelector(".main").style.flex="0 0 60%";for await(const el of document.querySelectorAll(".aside--spacer"))el.style.display="initial";document.querySelector(".aside").style.display="flex",document.querySelector(".open-sign-up").style.display="none"},closeSignUp=async()=>{document.querySelector(".open-sign-up").style.display="block",document.querySelector(".aside").style.display="none";for await(const el of document.querySelectorAll(".aside--spacer"))el.style.display="none";document.querySelector(".main").style.flex="0 0 100%";for await(const el of document.querySelectorAll(".main__section"))el.style.flex="0 0 92%"},navActions=async event=>{for(const el of document.querySelectorAll(".aside__forms"))el.style.display="none";event.currentTarget.classList.contains("contact-us")&&(document.querySelector(".aside__forms.contact-us").style.display="",document.querySelector(".aside__links .contact-us").style.display="none",document.querySelector(".aside__links .sign-in").style.display="",document.querySelector(".aside__links .sign-up").style.display=""),event.currentTarget.classList.contains("sign-in")&&(document.querySelector(".aside__forms.sign-in").style.display="",document.querySelector(".aside__links .sign-in").style.display="none",document.querySelector(".aside__links .sign-up").style.display="",document.querySelector(".aside__links .contact-us").style.display=""),event.currentTarget.classList.contains("sign-up")&&(document.querySelector(".aside__forms.sign-up").style.display="",document.querySelector(".aside__links .sign-up").style.display="none",document.querySelector(".aside__links .sign-in").style.display="",document.querySelector(".aside__links .contact-us").style.display="")},signInAction=async()=>{const appAlert=document.getElementById("sign-in-messages"),email=document.getElementById("login_email").value;let invalid=!1;if(document.querySelector(".invalid.login_email").style.visibility="hidden",email&&email.includes("@")||(document.querySelector(".invalid.login_email").style.visibility="unset",invalid=!0),email||email.includes("@")){let email_domain=email.split("@")[1];validDomain(email_domain)||(document.querySelector(".invalid.contact_email").style.visibility="unset",invalid=!0)}if(!0===invalid)return;const json=await PublicApi.post({target:"/magic-link",body:{recaptcha_token:recaptcha_token,email:email},sign:!1});appMessage(appAlert,json.status,json.message)},contactUsAction=async event=>{const appAlert=document.getElementById("contact-us-messages"),first_name=document.getElementById("first_name").value,last_name=document.getElementById("last_name").value,company=document.getElementById("contact_company").value,email=document.getElementById("contact_email").value,message=document.getElementById("message").value;let invalid=!1;if(document.querySelector(".invalid.first_name").style.visibility="hidden",document.querySelector(".invalid.last_name").style.visibility="hidden",document.querySelector(".invalid.contact_company").style.visibility="hidden",document.querySelector(".invalid.contact_email").style.visibility="hidden",document.querySelector(".invalid.message").style.visibility="hidden",(!first_name||first_name.length<=2)&&(document.querySelector(".invalid.first_name").style.visibility="unset",invalid=!0),(!last_name||last_name.length<=2)&&(document.querySelector(".invalid.last_name").style.visibility="unset",invalid=!0),(!company||company.length<=8)&&(document.querySelector(".invalid.contact_company").style.visibility="unset",invalid=!0),email&&email.includes("@")||(document.querySelector(".invalid.contact_email").style.visibility="unset",invalid=!0),email||email.includes("@")){let email_domain=email.split("@")[1];validDomain(email_domain)||(document.querySelector(".invalid.contact_email").style.visibility="unset",invalid=!0)}if((!message||message.length<=20)&&(document.querySelector(".invalid.message").style.visibility="unset",invalid=!0),1==invalid)return;const json=await PublicApi.post("/contact-form",{recaptcha_token:recaptcha_token,first_name:first_name,last_name:last_name,company:company,email:email,message:message}).catch((err=>{appMessage(appAlert,"error","An unexpected error occurred. Please refresh the page and try again."),console.log(err)}));appMessage(appAlert,json.status,json.message)},registerAction=async event=>{const appAlert=document.getElementById("register-messages"),company=document.getElementById("register_company").value,email=document.getElementById("register_email").value,privacy=document.getElementById("privacy-acceptance").checked;let invalid=!1;if(document.querySelector(".invalid.register_company").style.visibility="hidden",document.querySelector(".invalid.register_email").style.visibility="hidden",document.querySelector(".invalid.privacy").style.visibility="hidden",(!company||company.length<=8)&&(document.querySelector(".invalid.register_company").style.visibility="unset",invalid=!0),email&&email.includes("@")||(document.querySelector(".invalid.register_email").style.visibility="unset",invalid=!0),email||email.includes("@")){let email_domain=email.split("@")[1];validDomain(email_domain)||(document.querySelector(".invalid.register_email").style.visibility="unset",invalid=!0)}if(privacy||(document.querySelector(".invalid.privacy").style.visibility="unset",invalid=!0),!0===invalid)return;const json=await PublicApi.post("/register",{recaptcha_token:recaptcha_token,first_name:first_name,last_name:last_name,company:company,email:email,privacy:privacy}).catch((err=>{appMessage(appAlert,"error","An unexpected error occurred. Please refresh the page and try again."),console.log(err)}));appMessage(appAlert,json.status,json.message)};document.addEventListener("DOMContentLoaded",(async()=>{for(const el of document.querySelectorAll(".aside__links a"))el.addEventListener("click",navActions,!1),el.addEventListener("touchstart",navActions,!!supportsPassive&&{passive:!0});const signUpEl=document.getElementById("register-form");signUpEl.addEventListener("click",registerAction,!1),signUpEl.addEventListener("touchstart",registerAction,!!supportsPassive&&{passive:!0});const contactUsEl=document.getElementById("contact-us-form");contactUsEl.addEventListener("click",contactUsAction,!1),contactUsEl.addEventListener("touchstart",contactUsAction,!!supportsPassive&&{passive:!0});const signInEl=document.getElementById("sign-in-form");signInEl.addEventListener("click",signInAction,!1),signInEl.addEventListener("touchstart",signInAction,!!supportsPassive&&{passive:!0});for(const closeEl of document.querySelectorAll(".alert .icofont-close"))closeEl.addEventListener("click",(event=>event.currentTarget.parent(".alert").remove()),!1),closeEl.addEventListener("touchstart",(event=>event.currentTarget.parent(".alert").remove()),!!supportsPassive&&{passive:!0});const openSignUpEl=document.querySelector(".open-sign-up");openSignUpEl.addEventListener("click",openSignUp,!1),openSignUpEl.addEventListener("touchstart",openSignUp,!!supportsPassive&&{passive:!0});const closeSignUpEl=document.querySelector(".close-sign-up");closeSignUpEl.addEventListener("click",closeSignUp,!1),closeSignUpEl.addEventListener("touchstart",closeSignUp,!!supportsPassive&&{passive:!0})}),!1);