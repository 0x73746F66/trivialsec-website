const setupActions=async event=>{if("step1"==event.currentTarget.id){const json=await Api.post_async("/v1/setup-account",[{prop:"alias",value:document.querySelector('[name="account_alias"]').value},{prop:"default_role_id",value:document.querySelector('[name="default_role_id"]').value}]).catch((()=>appMessage("error","An unexpected error occurred. Please refresh the page and try again.")));if("success"==json.status)return appMessage(json.status,json.message),void setTimeout((()=>{window.location.href="/account/setup/2"}),2e3);appMessage(json.status,json.message)}};document.addEventListener("DOMContentLoaded",(async()=>{sidebar(),livetime(),setInterval(livetime,1e3),document.querySelectorAll("select").forEach((el=>{new Choices(el,{searchEnabled:!0})}));for await(const el of document.querySelectorAll(".toggle-sidenav"))el.addEventListener("click",toggler,!1),el.addEventListener("touchstart",toggler,!!supportsPassive&&{passive:!0});for await(const el of document.querySelectorAll(".menu-opener"))el.addEventListener("click",toggler,!1),el.addEventListener("touchstart",toggler,!!supportsPassive&&{passive:!0});for await(const el of document.querySelectorAll("button"))el.addEventListener("click",setupActions,!1),el.addEventListener("touchstart",setupActions,!!supportsPassive&&{passive:!0})}),!1);