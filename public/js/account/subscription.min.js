const saveBillingEmail=async()=>{const billingEmailEl=document.getElementById("billing_email");billingEmailEl.classList.remove("error"),billingEmailEl.classList.remove("success");const billing_email=billingEmailEl.value,json=await PublicApi.post({target:"/account/update-billing-email",body:{billing_email:billing_email}});"success"==json.status&&billingEmailEl.classList.add("success"),"error"==json.status&&(billingEmailEl.classList.add("error"),alert(json.message))};document.addEventListener("DOMContentLoaded",(async()=>{sidebar(),livetime(),setInterval(livetime,1e3);const emailChangeEl=document.getElementById("billing_email");emailChangeEl.addEventListener("change",saveBillingEmail,!1),emailChangeEl.addEventListener("keypress",(async event=>"Enter"===event.key?saveBillingEmail():void 0));const live_charts={};for await(const ctx of document.querySelectorAll(".chart.half-doughnut canvas")){const chart_key=ctx.getAttribute("data-key"),data_used=document.querySelector(`[name=${chart_key}-used]`).value,data_total=document.querySelector(`[name=${chart_key}-total]`).value;live_charts[chart_key]=new Chart(ctx,{type:"doughnut",data:{labels:[`${data_used} Used`,data_total-data_used+" Remain"],datasets:[{data:[data_used,data_total-data_used,data_total],backgroundColor:["rgb(42 63 84)","rgb(26 187 156)","transparent"],borderWidth:0,hoverOffset:4,rotation:-90}]}})}}),!1);