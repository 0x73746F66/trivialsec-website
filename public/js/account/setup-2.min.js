const stripe=Stripe(app.stripePublishableKey),buttonActions=async event=>{if("plan_enterprise"==event.currentTarget.id)return void toast("info","Please contact us to activate your Enterprise plan");const json=await Api.post_async("/v1/checkout",{selection:event.currentTarget.id}).catch((()=>{toast("error","An unexpected error occurred. Please refresh the page and try again.")}));toast(json.status,json.message),"success"==json.status&&(json.result&&json.result.hasOwnProperty("id")?stripe.redirectToCheckout({sessionId:json.result.id}).then((result=>{result.error.message&&toast("error",result.error.message)})):toast("error","Failed to start Checkout with Stripe.com"))};document.addEventListener("DOMContentLoaded",(async()=>{sidebar(),livetime(),setInterval(livetime,1e3),document.querySelectorAll("select").forEach((el=>{new Choices(el,{searchEnabled:!0})}));for await(const el of document.querySelectorAll("button"))el.addEventListener("click",buttonActions,!1),el.addEventListener("touchstart",buttonActions,!!supportsPassive&&{passive:!0})}),!1);